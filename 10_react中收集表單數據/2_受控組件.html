<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 移動端適配 -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>2_受控組件</title>
</head>
  <body>
  <!-- 準備好一個 "容器" -->
  <!-- 必須要按順序引入！！！！核心庫就位了，才可以把擴展庫引用，否則使用不了  -->
  <div id="test"></div>

  <!-- 引入 react 核心庫 -->
  <script type="text/javascript" src="../js/react.development.js"></script>
  <!-- 引入 react-dom. 用於支持 react 操作 DOM -->
  <script type="text/javascript" src="../js/react-dom.development.js"></script>
  <!-- 引入 babel, 用於將 jsx 專為 js -->
  <script type="text/javascript" src="../js/babel.min.js"></script>

  <script type="text/babel"> // 該部分一定要寫 babel 是表示裡面寫的不再是 js, 而是 jsx

  /**
  - 非受控組件
   1. 現用現取就是非受控組件
   - 有多少個輸入項目，就要寫多少個 ref
   - 勿過度使用 ref

  - 受控組件 ！推薦使用！
   2. 隨著你的輸入來維護狀態就是受控組件
   - 沒有 ref
   - 優勢是能夠省略 ref

   */


  // 1. 創建組件
  class Login extends React.Component{

      // 初始化狀態
      state = {
          username:'', //用戶名
          password:'' //密碼
      }

      //保存用戶名到狀態中
      saveUsername = (event)=>{
          // console.log(event.target.value);
          this.setState({username:event.target.value}) // 把用户名存放在状态里面
      }

      //保存密碼到狀態中
      savePassword = (event)=>{
          // console.log(event.target.value);
          this.setState({password:event.target.value}) // 把用户名存放在状态里面
      }

      //表單提交的回調
      handleSubmit = (event)=>{
          event.preventDefault() // 阻止表單提交
          const {username,password} = this.state // 當你回頭去提示信息的時候，username 和 password 要從 state 取得，就已經可以得到真正的值
          alert(`你輸入的用戶名是: ${username}, 你輸入的密碼是: ${password}`) // 因為已經從上面取得真正的值，所以不要再重新取得 value
      }
      render(){
          return(
              <form onSubmit={this.handleSubmit}>
              用戶名: <input onChange={this.saveUsername} type="text" name="username"/>
              密碼: <input onChange={this.savePassword} type="password" name="password"/>
              <button>登錄</button>
              </form>
          )
      }
  }
  // 渲染組件
  ReactDOM.render(<Login/>,document.getElementById('test'))
  
  </script>
  </body>
</html>